"use strict";function productVariation(u,o){var e=jQuery(u),t=o||"form.variations_form",_=e.find(".image-item:eq(0)"),f=_.find("img"),r=f.prop("src"),a=f.prop("srcset")||"",m=_.find("a"),i=m.prop("href"),y=e.find(".thumbnail-item:eq(0)"),s=y.find("img").prop("src");jQuery(t).length&&(jQuery(document.body).on("found_variation",t,function(o,e){var t=e.image.full_src,r=(e.image.src,e.image.thumb_src),a=e.is_in_stock;f.removeAttr("srcset"),y.find("img").prop("src",r),m.prop("href",t),_.addClass("image-loading"),f.prop("src",t).one("load",function(){_.removeClass("image-loading")}),"function"==typeof easyZoomHandle&&easyZoomHandle();var i=document.querySelector(u),s=!!i&&i.querySelector(".product-images"),c=!!s&&s.querySelector(".woostify-out-of-stock-label"),n=!!s&&s.querySelector(".woostify-tag-on-sale");if(a){if(e.max_qty){a=e.max_qty<=10?e.max_qty:Math.floor(66*Math.random())+10;var d=o.currentTarget.querySelector(".woocommerce-variation-availability"),l="";o.currentTarget.closest(".sold-individually")||(l+='<div class="woostify-single-product-stock stock">',woostify_woocommerce_variable_product_data&&woostify_woocommerce_variable_product_data.stock_label&&(l+='<span class="woostify-single-product-stock-label">'+woostify_woocommerce_variable_product_data.stock_label.replace("%s",e.max_qty)+"</span>"),l+='<div class="woostify-product-stock-progress">',l+='<span class="woostify-single-product-stock-progress-bar" data-number="'+a+'"></span>',l+="</div>",l+="</div>",d&&(d.innerHTML=l)),"function"==typeof woostifyStockQuantityProgressBar&&setTimeout(function(){woostifyStockQuantityProgressBar()},200)}c&&c.remove(),n&&woostify_woocommerce_variable_product_data.sale_tag_percent&&e.display_price!=e.display_regular_price&&(n.innerHTML="-"+Math.round((e.display_regular_price-e.display_price)/e.display_regular_price*100)+"%")}else if(woostify_woocommerce_variable_product_data){var p='<span class="woostify-out-of-stock-label position-'+woostify_woocommerce_variable_product_data.out_of_stock_display+" "+woostify_woocommerce_variable_product_data.out_of_stock_square+'">'+woostify_woocommerce_variable_product_data.out_of_stock_text+"</span>";c||s.insertAdjacentHTML("beforeend",p)}}),jQuery(".reset_variations").on("click",function(o){o.preventDefault(),f.prop("src",r),f.attr("srcset",a),y.find("img").prop("src",s),m.prop("href",i),"function"==typeof easyZoomHandle&&easyZoomHandle()}))}document.addEventListener("DOMContentLoaded",function(){productVariation(".product-gallery"),"function"==typeof onElementorLoaded&&onElementorLoaded(function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",function(){productVariation(".product-gallery")})})});